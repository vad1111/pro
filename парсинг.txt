надо поток превратить в список шаблонов ( (если)(олроров)(то)(олпрпрп))


список ожиданий = (если, то, пока, ) это случай вариантов
поток(100)
и=0
список текущих ожиданий=()
пока(поток не кончится) на каждой итерации нам известен список активных ожиданий 
	и- текущий номер символа

	с=поток.читайсимвол
	поток(и)=с
	вызов реакции на новый символ()

	текущиеОжидания.добавить(новые копии из списка шаблонов)//на каждой итерации надо запускать новый полный список ожиданий, активные ожидания, также запускаются, в конце сброшеные ожидания удаляются

	для всех (текущих ожиданий)
		ожиданиеЕсли(состояние=(активно,пассивно, сброшено),факт =(устанвлен/сброшен), начальный индеск, конечный индеск) = обработкаОжиданияЕсли(с)= 
        	если Если.состояние сброшено, удалить его из списокТекущихОжиданий, если нет, оставить // потом опять его добавлять, если известно что, если"ЕСЛИ" 
													не имеет внутрених повторов, то известно что даный тип шаблона может быть 
													только единственным в текущемсписке, после сброса "еслесли" сразу добавить новый
		ожиданиеТо(состояние=(активно,пассивно, сброшено), = обработкаОжиданияТо(с)

	если (ожиданиЕсли сработало), то РеакцияНаЕсли (добавить, преобразить ожидание в факт, добавить в список шаблонов)
	если (ожиданиТо сработало), то РеакцияНаТо
	и++


на выходе у нас есть список шаблонов(с нчальной и конечной точкой), остальное нераспознаные остатки, 
каждому элементу потока можно присвить ссылку на факт

случай когда в списке ожиданий есть похожие элементы (если, ли) на нескольких элементах будет 2 ссылки
если ожидания (_если_,_ли_), то пересечений не будет/// здесь _ - это пробел, но если они идут подряд, задний пробел _если_, будет передним пробелом _ли_


Модифицированная обработка ЕСЛИ , при появлении не того символа, монжно не сбрасывать ожидание, а ждать окончания (И), тогда мы найдем ЕСЛИ в сильном зашумлении, с большими вствками

	ЕСЛИ
   .   .    .   .
---е---с----л---и---.   

размер допустимого пропуска можно контролировать не более 3 неизвестных символа

КАК ЗАПУСИТИТЬ ОБРАБОТКУ не с 1 символа, а со всех сразу
Кажый шаблон, представить как сортированый набор символов. каждому символу поставить номер его вхождения в ЕСЛИ= (Е(1),И(4),Л(3),С(2))

для каждого символа (И) Найти имеющие его шаблоны. (Или сразу брать окружения, например соседние символы(слева 1, справа-2)  или сразу все слово
лучше. в следующий слой спроецировать, это слово 
е доавляет шаблон в положение 0,+1,+2,+3
с - -1,0,+1,+2 маска ссылка на ЕСЛИ
л - -2,-1,0,+1 маска для ЕСЛИ
     0,+1 маска для ЛИ 

4Е 4С  4Л   4И
       2Л   2И
4Е 4С  6Л   6И
е  с   л    и

Если количество данного шаблона в точке следующего слоя равно его длине, то факт налицо,,если меньше длины, то незаполненый шаблон. Получается степень совпадения 
3Е 3С  3Л   3И = 3/4 вероятность ЕСЛИ
       2Л   2И = 2/2=1 вероятность ЛИ
4Е 4С  6Л   6И
е  к   л    и

1Е 1Е 3Е 4С  4Л  3И 1Е 1Е  из 4  такой шаблон можно запомнить как ошибку перестановки 
      е  л   с   и

парсинг- разновидность распознования ддля строк текста 
Распознование уже структурированых объектов
	например, окон, типов,
	ILSpy можно разобрать сборки в структуры классов, действия в АСТ ,. Построить структуру классов (их зависимости),но смысл этой структуры будет не понятен.
	Зачем создан данный класс? Зачем в классе данные поля, какую роль они играют?? Роли полей можно вычислить исходя списка сценариев в которых они участвуют, 
	кто их читает?, кто в них пишет? Группы полей которые используются совместно, связано, рядом, (вычисление некоторого условия может менять переменную-это переменная флаг-переключатель
		так все переменные можно описать. 
			временное хранение значения, (иногда удобно назвать промежуточный результат, иногда вычислить адрес нужного объекта и его сохранить, чтобы повторно не вычислять, не искать (а=список[индекс])

			счетчик цикла,
			флаг переключатель (кнопка нажата = да,нет)
			хранение первоначального значения, для возможности отката
			
запускаемые процессы деляться на команды (ipconfig) однократного выполонения
				 активности с которыми можно обмениваться командами - интерактивные (граф оболочка это тоже вариант составления команд, клик мыши, создает и запускает
					 команду, они дают выбор из вариантов, не надо помнить точное написание,
				активности с кот обмениваться нельзя, но которые выполняют некоторую функцию
			
		











